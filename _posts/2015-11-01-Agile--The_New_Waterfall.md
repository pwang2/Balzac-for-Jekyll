---
layout: post
title: "Agile is the new waterfall "
category: articles
author: ayasi architect developer cto @ June
tags: [Agile]
---

*译自https://medium.com/swlh/agile-is-the-new-waterfall-f7baef5d026d, 版权和内容所有权归原作者所有。*

![](https://cdn-images-1.medium.com/max/1600/1*HumuLoReTLPXVf-UymZj6g.jpeg)

你一直在被一直在玩弄你的人欺骗着。

Agile 是糟糕的。Scrum 更可怕。

在我开始之前，我们需要把Agile的稻草人替身清出场：没有一个正常人会鼓吹Waterfall。重要的事情说三遍－－没有一个正常人会鼓吹Agile，没有一个正常人会鼓吹敏捷。据说，Agile的拥趸会拖出同一个论调来驳斥他们的对手－－Waterfall的跟随着害怕哪怕是一点很小的变更。

> 译注：[稻草人谬论](https://zh.wikipedia.org/wiki/稻草人論證)  
> 小明：「我並不認為孩童應該往大街上亂跑。」  
> 大文：「把小孩关起來，不讓他們呼吸新鮮空氣，那真是太愚蠢了。」

Agile 已经替代Waterfall 成为developer的噩梦，甚至比之更糟糕。它是一匹披着羊皮的狼，今天我们就将结下它的伪装。


## Agile的许诺

Agile给我们一个工程驱动的开发模型。它是从虚假的Waterfall的乌托邦而来的一个闪耀的救赎。在Waterfall的世界里，所有重要的决定都是在工程师之外做出来的，而且一旦作出就无法改变。如果你拜读过Agile宣言，至少它是这么说的。Agile强调个体，可用的软件，团队协作和强有力的外在驱动。这些都是很好的想法。工程师会参与需求的开发，可以给出反馈意见。变更是肯定会存在的。这不是任何一个人的过错，也没有任何一个人会被强制要求加班来搞定他们。工程人员可以在开发的各个阶段给出输入，更为重要的是，工程师会会为技术决策把关。这些就比是美味的多彩糖果，谁会不喜欢呢。不幸的是，对我们中绝大多数人来说，我们从比比多味豆中得到这些美味的糖果中，Barf（作呕的）口味没有了。

译著：这个只有哈利波特迷能理解，Barf口味恰恰是比比多味豆在魔法世界里流行的原因。参见[哈利波特百科](http://zh.harrypotter.wikia.com/wiki/比比多味豆?variant=zh).

>吃这个你要当心，他们所说的多味，你知道，意思是各种味道一应俱全，吃起来不仅有巧克力、薄荷糖、橘子酱等一般的味道，而且还会有菠菜、肝和肚的味道。乔治说，有一次他还吃到过一粒带于鼻子牛儿味的豆子呢。 ——罗恩·韦斯莱告诉哈利·波特

### Agile 的锤子效应
锤子在它所擅长的领域是一个很好的工具。有这么一个领域，Agile也非常有用。如果你就职于一个外包公司，要为一个自己也不知道自己要什么的客户提供一个快速原型。这种情形下，如果合同是按时间投入和材料计价的话，Agile是在恰当不过的。你只需要尽可能快的交付产品，即便你知道这些东西很多都是会被彻底丢弃的。不管客户想出来多少刁钻疯狂的想法，你只需要排期，解释成本报价，只要客户接受，就可以立马开搞。客户很高兴，外包公司预期的拿到工程款，知道最终项目完成。双赢（尽管从外包公司的角度赢面更大）！

### （不幸的是）你是钉子
一件值得一提的事是，外包公司不对任何事情负责（译著：这里是从产品上）。他们只是勤勤恳恳的员工来执行这些业务驱动的开发工作。

Waterfall和Agile对业务驱动的开发有相同的共识，从这个角度，他们只是对同一种Bag of bad的不同包装。

### Agile的现实：Waterfall 2.0
![](https://cdn-images-1.medium.com/max/1600/1*bK_7kQ7YmNhWbwHzE8XZZg.jpeg)
图片Credit: Pawel Kuczynski(http://www.pawelkuczynski.com/index.php)

Agile的现实是同样的有很多不可改变决定是那些对技术不太了解的Business People做出来的。这些决定后来被强加给developer。最终的结果和Waterfall一样，只不过换了一个不同的名字。

不幸的是，因为没有活着很有限的文档，现在developer要对最终的结果负责。然而开发人们本身在决策中只有很少甚至没有任何权威来为项目的成功加码。这种权威之外的责任让Agile的毒害比Waterfall更甚。

> 权威（译著：威权应该更合适），当它用脚后跟来感知混乱的时候，会豁出一盘邪恶的计划来拯救它看似光鲜的门面。     --Alan Moore 《V字仇杀队》

（译著：说得太好了，以致于能力太有限的我不知道如何翻译。这部电影里面很多对白在不对称关系下特别让人深省，更多可参见:

[Quora](https://www.quora.com/What-do-you-think-of-V-the-V-for-Vendetta-hero)  
[Pixnet](http://dos19891120.pixnet.net/blog/post/30738429)

作为Agile附加的每日例（立）会确保那个看起来工作很低效的人无处遁形（无论那是不是事实）。这种“锅炉房式”（译著：这个同样来自一部电影[《Boiler Room》](http://movie.douban.com/subject/1295603/)）的工作氛围对少数人可能适用，但是对于绝大多数人，这是一种显而易见的压力最终会降低我们的工作效率。这种压力鼓励Developer不去思考长远的东西，就只是不负责任的把今天的这些东西拼凑在一起让它们看起来是可以工作的。这在Agile的世界非常常见，Tech Debt成为开发流程中非常基本的一极。如果你是一个6月内就要关张大吉的创业公司，这不是一个问题。如果你想成为一家百年老店，你应该运用你在手工课学到的那些技巧：“度量两次再裁切”。在软件工程里，这意味着你应该在你开始码代码之前有一些大局观。

### Story Points, Agile的度量
即便从度量的角度，Agile也是枉然的。它使用一个没有固定单位的量度“Story Points”。不幸的是，Story Points是非常主观的一个东西，manager们却用之来衡量Velocity开发效率。问题在于团队不是总是那个稳定的， 你需要很多的数据点（译著：不知道这个说的什么，大致说的是一个临时型项目团队）。如果一个Sprint持续两周，一年下来，你可以得到26个数据点，一个动荡的团队，实际上你只能得到10个甚至更少（缺乏足够的数据来作出决定）。就好比你想通过从4月到8月对温度采样来决定到12月你应该穿什么出门。

更坏的是，Story Points在真正负责掌权的人那里成了对时间的度量。然后，这些度量被用来比较在团队之间比较和用来解释为什么他们的Velocity下降了，然而这些数字是一些无法度量的主观值，根本就不应该拿来像这样来做比较。

## 你的Agile是错的

![](https://cdn-images-1.medium.com/max/1600/1*BRrqYckEsmr5sDdxtbZjlw.jpeg)  
图片Credit: despair.com

Agile咨询顾问公司如雨后春笋般的出现并集结成军。他们试图让你相信你的Agile需要他们来帮助改进。如果你的项目失败来，那绝不是Agile的错，是你错了。是你用错了Agile，如果你用对了，你的项目就应该成功了（这里又是一个没有一个[“真正的苏格兰人谬论”](https://zh.wikipedia.org/wiki/沒有真正的蘇格蘭人)）。Agile Coaches，Scrum Masters认证，两天精通Agile培训课，等等等等这些既得利益的存在让这个谎言不断地继续着。为什么你需要Aile Coach，Master来培训四个在Agile宣言里列出来的四个基本主义？剧透党：你不需要。但是你需要用这个新的概念来包装下Waterfall。

译著：

> 老師：沒有蘇格蘭人會在粥裡加糖。  
學生：我是蘇格蘭人，我會在粥裡加糖。  
老師：好吧，沒有「真正的」蘇格蘭人會在粥裡加糖。  

>當一個人主張：「所有的A皆為B。」卻遇上「A不為B」的反例時，改口主張「所有『真正的A』皆為B。」此時，「真正的A」和「為B」只是互相定義的套套邏輯，而原來的問題也沒有解決，因為A不一定是「真正的A」。

### 那我们应该怎么做？

> [「幸福的家庭都是相同的，不幸的家庭各有各的不幸」](http://www.zhihu.com/question/19989084
) －－托尔斯泰《安娜卡拉莉娜》

托尔斯泰表述的反面对流程同样适用。所有成功的流程都是独特的。你不能想着通读完一本关于“12步构建成功软件项目”的书就能按图索骥。相反，你可以通过读完这本书，了解这12步，然后着手用于下一个项目。你需要先思考你所面对的现状。这也是我接下来要说的。

* 抛弃一切

干掉你的Scrum Master，Product Owner，Agile Coach，开除那个号称要让你更Agile的Agile咨询顾问。现在你拥有的就是一张白纸，你可以开始思考什么对你是合理的。

* 引入有限的流程

可以是一块用来记录产品创意的白板，也可以是一张你正在开发的功能列表，只要你可以发现是否有事情不对劲。我们就从那个最小的集合开始。

* 让人们参与进来

当一个功能从“头脑风暴”阶段（这时可能有一些很疯狂的想法比如“如果用户拓展来4个好友到产品，带着他们到ISS控制区去兜风”）到“需求精炼”阶段，让所有的人都参与进来。这儿并不只是Dev Manager，而是所有人，所有和这个功能相关的一应俱全的所有人。不要讨论实现这个功能要花多久，讨论这个功能的价值，应该怎样去实现，等等。这些讨论因该是百家争鸣般的（并不是说如市侩吵架般的）。这个很重要，非常重要。如果你真要排开任何人，排开那些Manages。这会产生一个真正的工程驱动文化。

* 只添加那些可以明显的降低实际风险的流程

如果你对下面三个问题的任意一个回答是，就可以创建一个流程来帮助降低具体风险。

1. 问题的出现是系统性的还是只是一个特例？比如：张三和李四重复在同一个功能点上花了很多时间，弄了两天也没能搞出来，因为这个大方向本就是一条思路。
2. 问题的风险是否特别高？比如：你的硬盘经常崩溃，但你一个月也不迁入你的源代码到source control一次。这就是一个特别高的风险。
3. 问题是否有灾难性的后果？不如：如果飞机的机翼在飞行途中断了，所有飞机上的人就会都Game over。

如果你对所有问题都诚实的回答不是，那么流程的这个部分就纯属浪费时间。

* 在一切准备好后发布，不早，不晚

让工程师做他们自己的事，把所有事情想透后写15行代码来做这件是，而不是用150行代码。
引入代码审查，测试等等。把错的东西的发布出去的过错成本会比把正确的东西错过发布Deadline发布更高。

### 等等，我现在貌似Agile了。

是的，你现实是一个小写的agile，不是那个大写的Agile了。他们有很大的区别，希望你现在能看到。你有一个很精简的有效流程，这个能让你高效的完成那些真正重要的事情。以前你花非核心流程上的每一分钟现在都可以用来做有效的工作。最后，但同样重要的是，你现在（希望是）拥有一个工程师驱动的组织了。

